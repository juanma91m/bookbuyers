<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th scope="col">TÃ­tulo</th>
            <th scope="col">Autor</th>
            <th scope="col">Precio</th>
            <th scope="col">Stock</th>
            <th scope="col">Imagen</th>
			<th scope="col">Agregar / Quitar</th>
        </tr>
    </thead>
    <tbody>
        @for (book of books; track book.titulo) {
            <tr [ngClass]='{discount: book.porcentajeDescuento > 0}'>
                <td>{{book.titulo}}</td>
                <td>{{book.autor}}</td>
                <td>{{((100-book.porcentajeDescuento) * book.precio / 100) | currency}}</td>
                <td>
                    @if (book.stock > 0) {
                        <span class="badge text-bg-success">Hay stock</span>
                    } @else {
                        <span class="badge text-bg-warning">Sin stock</span>
                    }
                </td>
                <td><img class="imagen-col" [src]="book.imagen" [alt]="book.titulo" /></td>
				<td><app-book-button-add-remove 
                    [book]="book"
                    (cantidadChange)="updateCantidad(book, $event.cantidad)"
                ></app-book-button-add-remove></td>
            </tr>
        } @empty {
			<tr>
				<td colspan="6">No hay libros para mostrar</td>
			</tr>
		}
    </tbody>
</table>